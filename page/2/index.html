<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.0.6" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.6">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.6" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.0.6',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="IMLK">
<meta property="og:url" content="http://kb5201314.github.io/page/2/index.html">
<meta property="og:site_name" content="IMLK">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IMLK">






  <link rel="canonical" href="http://kb5201314.github.io/page/2/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>IMLK</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">IMLK</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
</li>

      

      
    </ul>
  

  
    

  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/02/06/HDU 1166 敌兵布阵——线段树，树状数组/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/06/HDU 1166 敌兵布阵——线段树，树状数组/" itemprop="url">HDU 1166 敌兵布阵——线段树，树状数组</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-06T17:33:38+08:00">2018-02-06</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这题本来我打算用前缀数组实现源数据的处理，并把更变用map<int ,int="">实现，发现后来还是超时了；</int></p>
<p>借机学习了一下线段树，虽然没怎么看懂，但大概还是理解了一点；<br>这题用 指针构成的线段树 和 数组构成的线段树 分别来实现了一下<br>资料：<br>线段树从零开始 - CSDN博客<br><a href="http://blog.csdn.net/zearot/article/details/52280189" target="_blank" rel="noopener">http://blog.csdn.net/zearot/article/details/52280189</a><br>线段树详解 （原理，实现与应用） - CSDN博客<br><a href="http://blog.csdn.net/zearot/article/details/48299459" target="_blank" rel="noopener">http://blog.csdn.net/zearot/article/details/48299459</a><br>看到有人用树状数组实现，学习了一下树状数组，代码贴在最后：<br>资料：<br>树状数组入门<br><a href="https://www.cnblogs.com/hsd-/p/6139376.html" target="_blank" rel="noopener">https://www.cnblogs.com/hsd-/p/6139376.html</a></p>
<p>题目来源：<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1166" target="_blank" rel="noopener">http://acm.hdu.edu.cn/showproblem.php?pid=1166</a></p>
<blockquote>
<p>敌兵布阵<br>Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 65536/32768 K (Java/Others)<br>Total Submission(s): 106625    Accepted Submission(s): 44789</p>
<p>Problem Description<br>C国的死对头A国这段时间正在进行军事演习，所以C国间谍头子Derek和他手下Tidy又开始忙乎了。A国在海岸线沿直线布置了N个工兵营地,Derek和Tidy的任务就是要监视这些工兵营地的活动情况。由于采取了某种先进的监测手段，所以每个工兵营地的人数C国都掌握的一清二楚,每个工兵营地的人数都有可能发生变动，可能增加或减少若干人手,但这些都逃不过C国的监视。<br>中央情报局要研究敌人究竟演习什么战术,所以Tidy要随时向Derek汇报某一段连续的工兵营地一共有多少人,例如Derek问:“Tidy,马上汇报第3个营地到第10个营地共有多少人!”Tidy就要马上开始计算这一段的总人数并汇报。但敌兵营地的人数经常变动，而Derek每次询问的段都不一样，所以Tidy不得不每次都一个一个营地的去数，很快就精疲力尽了，Derek对Tidy的计算速度越来越不满:”你个死肥仔，算得这么慢，我炒你鱿鱼!”Tidy想：“你自己来算算看，这可真是一项累人的工作!我恨不得你炒我鱿鱼呢!”无奈之下，Tidy只好打电话向计算机专家Windbreaker求救,Windbreaker说：“死肥仔，叫你平时做多点acm题和看多点算法书，现在尝到苦果了吧!”Tidy说：”我知错了。。。”但Windbreaker已经挂掉电话了。Tidy很苦恼，这么算他真的会崩溃的，聪明的读者，你能写个程序帮他完成这项工作吗？不过如果你的程序效率不够高的话，Tidy还是会受到Derek的责骂的.</p>
<p>Input<br>第一行一个整数T，表示有T组数据。<br>每组数据第一行一个正整数N（N&lt;=50000）,表示敌人有N个工兵营地，接下来有N个正整数,第i个正整数ai代表第i个工兵营地里开始时有ai个人（1&lt;=ai&lt;=50）。<br>接下来每行有一条命令，命令有4种形式：<br>(1) Add i j,i和j为正整数,表示第i个营地增加j个人（j不超过30）<br>(2)Sub i j ,i和j为正整数,表示第i个营地减少j个人（j不超过30）;<br>(3)Query i j ,i和j为正整数,i&lt;=j，表示询问第i到第j个营地的总人数;<br>(4)End 表示结束，这条命令在每组数据最后出现;<br>每组数据最多有40000条命令</p>
<p>Output<br>对第i组数据,首先输出“Case i:”和回车,<br>对于每个Query询问，输出一个整数并回车,表示询问的段中的总人数,这个数保持在int以内。</p>
<p>Sample Input</p>
<p>1<br>10<br>1 2 3 4 5 6 7 8 9 10<br>Query 1 3<br>Add 3 6<br>Query 2 7<br>Sub 10 2<br>Add 6 3<br>Query 3 10<br>End </p>
<p>Sample Output</p>
<p>Case 1:<br>6<br>33<br>59</p>
<p>Author<br>Windbreaker</p>
<p>Recommend<br>Eddy   |   We have carefully selected several similar problems for you:  1394 1698 1754 1542 1540 </p>
</blockquote>
<p>指针线段树：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">// 线段树</span><br><span class="line"></span><br><span class="line">struct Node &#123;</span><br><span class="line">	int lp;</span><br><span class="line">	int rp;</span><br><span class="line">	int mid;</span><br><span class="line">	int sum;</span><br><span class="line">	Node* left;</span><br><span class="line">	Node* right;</span><br><span class="line">	Node(int l, int r): lp(l), rp(r), mid((l + r) / 2), left(NULL), right(NULL) &#123;&#125;//new初始化的内存不一定自动填0</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int list[50005];//从1开始</span><br><span class="line"></span><br><span class="line">int T, N, a, b;</span><br><span class="line"></span><br><span class="line">Node* buildTree(int l, int r) &#123;</span><br><span class="line">	Node* p = new Node(l, r);</span><br><span class="line">	if (l == r) &#123;</span><br><span class="line">		p-&gt;sum = list[l];</span><br><span class="line">		return p;</span><br><span class="line">	&#125;</span><br><span class="line">	p-&gt;left = buildTree(l, p-&gt;mid);</span><br><span class="line">	p-&gt;right = buildTree(p-&gt;mid + 1, r);</span><br><span class="line"></span><br><span class="line">	p-&gt;sum = p-&gt;left-&gt;sum + p-&gt;right-&gt;sum;</span><br><span class="line">	return p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void treeAdd(Node *which, int where, int what) &#123;</span><br><span class="line"></span><br><span class="line">	if (which-&gt;left != NULL &amp;&amp; which-&gt;right != NULL) &#123;</span><br><span class="line">		treeAdd((where &lt;= which-&gt;mid) ? which-&gt;left : which-&gt;right, where, what);</span><br><span class="line">	&#125;</span><br><span class="line">	which-&gt;sum += what;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int calSum(Node * which, int from, int to) &#123;</span><br><span class="line"></span><br><span class="line">	if (from == which-&gt;lp &amp;&amp; to == which-&gt;rp) &#123;</span><br><span class="line">		return which-&gt;sum;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	if (from &lt;= which-&gt;mid) &#123;</span><br><span class="line">		if (to &gt; which-&gt;mid) &#123;//横跨</span><br><span class="line">			return calSum(which-&gt;left, from, which-&gt;mid) + calSum(which-&gt;right, which-&gt;mid + 1, to);</span><br><span class="line">		&#125; else &#123;//全在左边</span><br><span class="line">			return calSum(which-&gt;left, from, to);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; else &#123;//全在右边</span><br><span class="line">		return calSum(which-&gt;right, from, to);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void del(Node * which) &#123;</span><br><span class="line">	if (which-&gt;left) &#123;</span><br><span class="line">		del(which-&gt;left);</span><br><span class="line">	&#125;</span><br><span class="line">	if (which-&gt;right) &#123;</span><br><span class="line">		del(which-&gt;right);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	delete which;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char const *argv[])</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	char cmd[10];</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;T);</span><br><span class="line"></span><br><span class="line">	for (int t = 1; t &lt;= T; t++) &#123;</span><br><span class="line"></span><br><span class="line">		memset(list, 0, sizeof(list));</span><br><span class="line"></span><br><span class="line">		scanf(&quot;%d&quot;, &amp;N);</span><br><span class="line"></span><br><span class="line">		for (int i = 0; i &lt; N; i++) &#123;</span><br><span class="line">			scanf(&quot;%d&quot;, list + i);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		Node* root = buildTree(0, N - 1);</span><br><span class="line"></span><br><span class="line">		printf(&quot;Case %d:\n&quot;, t);</span><br><span class="line">		while (1) &#123;</span><br><span class="line">			scanf(&quot;%s&quot;, cmd);</span><br><span class="line">			if (&apos;E&apos; == cmd[0]) &#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">			scanf(&quot;%d%d&quot;, &amp;a, &amp;b);</span><br><span class="line">			switch (cmd[0]) &#123;</span><br><span class="line">			case &apos;Q&apos;:</span><br><span class="line">				printf(&quot;%d\n&quot;, calSum(root, a - 1, b - 1));</span><br><span class="line">				break;</span><br><span class="line">			case &apos;A&apos;:</span><br><span class="line">				list[a - 1] += b;</span><br><span class="line">				treeAdd(root, a - 1, b);</span><br><span class="line">				break;</span><br><span class="line">			case &apos;S&apos;:</span><br><span class="line">				list[a - 1] -= b;</span><br><span class="line">				treeAdd(root, a - 1, -b);</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		del(root);</span><br><span class="line">		root = NULL;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>自定义结构体组成的数组实现线段树：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">// 线段树</span><br><span class="line"></span><br><span class="line">struct Node &#123;</span><br><span class="line">	int lp;</span><br><span class="line">	int rp;</span><br><span class="line">	int mid;</span><br><span class="line">	int sum;</span><br><span class="line">&#125; nodes[50005 &lt;&lt; 2];//空间为原数组的四倍长，1储存根元素，对于第k个节点，K&lt;&lt;1表示左支，(k&lt;&lt;1)|1表示右支</span><br><span class="line"></span><br><span class="line">int list[50005];//从0开始</span><br><span class="line"></span><br><span class="line">int T, N, a, b;</span><br><span class="line"></span><br><span class="line">int buildTree(int which, int l, int r) &#123;</span><br><span class="line"></span><br><span class="line">	nodes[which].lp = l;</span><br><span class="line">	nodes[which].rp = r;</span><br><span class="line">	nodes[which].mid = ((l + r) &gt;&gt; 1);</span><br><span class="line"></span><br><span class="line">	if (l == r) &#123;</span><br><span class="line">		nodes[which].sum = list[l];</span><br><span class="line"></span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		nodes[which].sum += buildTree(which &lt;&lt; 1, l, (l + r) &gt;&gt; 1);</span><br><span class="line">		nodes[which].sum += buildTree((which &lt;&lt; 1) | 1, ((l + r) &gt;&gt; 1) + 1, r);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return nodes[which].sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void treeAdd(int which, int where, int what) &#123;</span><br><span class="line"></span><br><span class="line">	if (nodes[which].lp != nodes[which].rp) &#123;</span><br><span class="line">		treeAdd((where &lt;= nodes[which].mid) ? which &lt;&lt; 1 : (which &lt;&lt; 1) | 1, where, what);</span><br><span class="line">	&#125;</span><br><span class="line">	nodes[which].sum += what;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int calSum(int which, int from, int to) &#123;</span><br><span class="line"></span><br><span class="line">	// printf(&quot;from_%d,to_%d,and_now_is_%d,%d\n&quot;, from, to, nodes[which].lp, nodes[which].rp);</span><br><span class="line">	if (from == nodes[which].lp &amp;&amp; to == nodes[which].rp) &#123;</span><br><span class="line">		return nodes[which].sum;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	if (from &lt;= nodes[which].mid) &#123;</span><br><span class="line">		if (to &gt; nodes[which].mid) &#123;//横跨</span><br><span class="line">			return calSum(which &lt;&lt; 1, from, nodes[which].mid) + calSum((which &lt;&lt; 1) | 1, nodes[which].mid + 1, to);</span><br><span class="line">		&#125; else &#123;//全在左边</span><br><span class="line">			return calSum(which &lt;&lt; 1, from, to);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; else &#123;//全在右边</span><br><span class="line">		return calSum((which &lt;&lt; 1) | 1, from, to);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char const *argv[])</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	char cmd[10];</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;T);</span><br><span class="line"></span><br><span class="line">	for (int t = 1; t &lt;= T; t++) &#123;</span><br><span class="line"></span><br><span class="line">		memset(list, 0, sizeof(list));</span><br><span class="line">		memset(nodes, 0, sizeof(nodes));</span><br><span class="line"></span><br><span class="line">		scanf(&quot;%d&quot;, &amp;N);</span><br><span class="line"></span><br><span class="line">		for (int i = 0; i &lt; N; i++) &#123;</span><br><span class="line">			scanf(&quot;%d&quot;, list + i);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		buildTree(1, 0, N - 1);</span><br><span class="line"></span><br><span class="line">		printf(&quot;Case %d:\n&quot;, t);</span><br><span class="line">		while (1) &#123;</span><br><span class="line">			scanf(&quot;%s&quot;, cmd);</span><br><span class="line">			if (&apos;E&apos; == cmd[0]) &#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">			scanf(&quot;%d%d&quot;, &amp;a, &amp;b);</span><br><span class="line">			switch (cmd[0]) &#123;</span><br><span class="line">			case &apos;Q&apos;:</span><br><span class="line">				printf(&quot;%d\n&quot;, calSum(1, a - 1, b - 1));</span><br><span class="line">				break;</span><br><span class="line">			case &apos;A&apos;:</span><br><span class="line">				list[a - 1] += b;</span><br><span class="line">				treeAdd(1, a - 1, b);</span><br><span class="line">				break;</span><br><span class="line">			case &apos;S&apos;:</span><br><span class="line">				list[a - 1] -= b;</span><br><span class="line">				treeAdd(1, a - 1, -b);</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>树状数组实现：代码量超少！！！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line"></span><br><span class="line">//Accept</span><br><span class="line"></span><br><span class="line">#define lowbit(x) (x&amp;(-x))</span><br><span class="line"></span><br><span class="line">//lowbit(x) 其实代表了第x号节点最底层代表的区间长度</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line">*	c[x]</span><br><span class="line">*															1000</span><br><span class="line">*							   /————————————————————————————[8]</span><br><span class="line">*							  /								 |</span><br><span class="line">*							100								 |</span><br><span class="line">*			   /————————————[4]				   /————————————[ ]</span><br><span class="line">*			  /				 |				  /				 |</span><br><span class="line">*			010				 |				110				 |</span><br><span class="line">*	   /————[2]		   /————[ ]		   /————[6]		   /————[ ]</span><br><span class="line">*	  /		 |		  /		 |		  /		 |		  /		 |</span><br><span class="line">*	001		 |		011		 |		101		 |		111		 |</span><br><span class="line">*	[1]		[ ]		[3]		[ ]		[5]		[ ]		[7]		[ ]</span><br><span class="line">*/</span><br><span class="line">int c[50005];//树状数组,从1开始</span><br><span class="line">// c[i] = data[i - 2 ^ k + 1 ... i];</span><br><span class="line"></span><br><span class="line">int data[50005];//存储原始数据,从1开始</span><br><span class="line"></span><br><span class="line">int s[50005];//前缀数组,在init时用到,从1开始</span><br><span class="line"></span><br><span class="line">int T, N, a, b;</span><br><span class="line"></span><br><span class="line">int calSum(int where) &#123;//返回从data[1...where]</span><br><span class="line">	int su = 0;</span><br><span class="line">	while (where) &#123;</span><br><span class="line">		su += c[where];</span><br><span class="line">		where -= lowbit(where);</span><br><span class="line">	&#125;</span><br><span class="line">	return su;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void add(int where, int what) &#123;</span><br><span class="line">	while (where &lt;= N) &#123;</span><br><span class="line">		c[where] += what;</span><br><span class="line">		where += lowbit(where);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int init() &#123;</span><br><span class="line">	int sum = 0;</span><br><span class="line">	// for (int i = 1; i &lt;= N; i++) &#123;</span><br><span class="line">	// 	for (int x = i - lowbit(i) + 1; x &lt;= i; x++) &#123;</span><br><span class="line">	// 		c[i] += data[x];</span><br><span class="line">	// 	&#125;</span><br><span class="line">	// &#125;</span><br><span class="line">	// 用前缀数组来进行优化：</span><br><span class="line">	for (int i = 1; i &lt;= N; i++) &#123;</span><br><span class="line">		c[i] = s[i] - s[i - lowbit(i)];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char const *argv[])</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	char cmd[10];</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;T);</span><br><span class="line"></span><br><span class="line">	for (int t = 1; t &lt;= T; t++) &#123;</span><br><span class="line"></span><br><span class="line">		memset(c, 0, sizeof(c));</span><br><span class="line">		memset(data, 0, sizeof(data));</span><br><span class="line">		memset(s, 0, sizeof(s));</span><br><span class="line"></span><br><span class="line">		scanf(&quot;%d&quot;, &amp;N);</span><br><span class="line"></span><br><span class="line">		for (int i = 1; i &lt;= N; i++) &#123;</span><br><span class="line">			scanf(&quot;%d&quot;, data + i);</span><br><span class="line">			s[i] = s[i - 1] + data[i];</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		init();</span><br><span class="line"></span><br><span class="line">		printf(&quot;Case %d:\n&quot;, t);</span><br><span class="line">		for (;;) &#123;</span><br><span class="line">			scanf(&quot;%s&quot;, cmd);</span><br><span class="line">			if (&apos;E&apos; == cmd[0]) &#123;</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">			scanf(&quot;%d%d&quot;, &amp;a, &amp;b);</span><br><span class="line">			switch (cmd[0]) &#123;</span><br><span class="line">			case &apos;Q&apos;:</span><br><span class="line">				printf(&quot;%d\n&quot;, calSum(b) - calSum(a - 1));</span><br><span class="line">				break;</span><br><span class="line">			case &apos;A&apos;:</span><br><span class="line">				add(a, b);</span><br><span class="line">				break;</span><br><span class="line">			case &apos;S&apos;:</span><br><span class="line">				add(a, -b);</span><br><span class="line">				break;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/02/02/算法词汇/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/02/算法词汇/" itemprop="url">算法词汇</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-02T23:41:28+08:00">2018-02-02</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p><a href="https://segmentfault.com/a/1190000002641054" target="_blank" rel="noopener">https://segmentfault.com/a/1190000002641054</a></p>
<blockquote>
<p><strong>LCS</strong><br><em>Longest Common Subsequence</em><br>最长公共子列</p>
</blockquote>
<blockquote>
<p><strong>LIS</strong><br><em>Longest Increasing Subsequence</em><br>最长上升子列</p>
</blockquote>
<hr>
<p><a href="https://segmentfault.com/a/1190000002646526" target="_blank" rel="noopener">https://segmentfault.com/a/1190000002646526</a></p>
<blockquote>
<p><strong>LRS</strong><br><em>Longest Repeated Substring</em><br>重复子串</p>
</blockquote>
<hr>
<p><a href="https://www.cnblogs.com/JVxie/p/4854719.html" target="_blank" rel="noopener">https://www.cnblogs.com/JVxie/p/4854719.html</a></p>
<blockquote>
<p><strong>LCA</strong><br><em>Least Common Ancestors</em><br>最近的公共祖先</p>
</blockquote>
<hr>
<p><a href="http://blog.csdn.net/ywcpig/article/details/52336496" target="_blank" rel="noopener">http://blog.csdn.net/ywcpig/article/details/52336496</a></p>
<blockquote>
<p><strong>RMQ</strong><br><em>Range Maximum/Minimm Query</em><br>区间最值查询</p>
</blockquote>
<hr>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/02/01/CodeForces 697D 树+概率/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/01/CodeForces 697D 树+概率/" itemprop="url">CodeForces 697D 树+概率</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-01T23:34:57+08:00">2018-02-01</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://codeforces.com/problemset/problem/697/D" target="_blank" rel="noopener">原题链接</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">D. Puzzles</span><br><span class="line">time limit per test</span><br><span class="line">1 second</span><br><span class="line">memory limit per test</span><br><span class="line">256 megabytes</span><br><span class="line">input</span><br><span class="line">standard input</span><br><span class="line">output</span><br><span class="line">standard output</span><br><span class="line"></span><br><span class="line">Barney lives in country USC (United States of Charzeh). USC has n cities numbered from 1 through n and n - 1 roads between them. Cities and roads of USC form a rooted tree (Barney&apos;s not sure why it is rooted). Root of the tree is the city number 1\. Thus if one will start his journey from city 1, he can visit any city he wants by following roads.</span><br><span class="line"></span><br><span class="line">Some girl has stolen Barney&apos;s heart, and Barney wants to find her. He starts looking for in the root of the tree and (since he is Barney Stinson not a random guy), he uses a random DFS to search in the cities. A pseudo code of this algorithm is as follows:</span><br><span class="line"></span><br><span class="line">let starting_time be an array of length n</span><br><span class="line">current_time = 0</span><br><span class="line">dfs(v):</span><br><span class="line">	current_time = current_time + 1</span><br><span class="line">	starting_time[v] = current_time</span><br><span class="line">	shuffle children[v] randomly (each permutation with equal possibility)</span><br><span class="line">	// children[v] is vector of children cities of city v</span><br><span class="line">	for u in children[v]:</span><br><span class="line">		dfs(u)</span><br><span class="line"></span><br><span class="line">As told before, Barney will start his journey in the root of the tree (equivalent to call dfs(1)).</span><br><span class="line"></span><br><span class="line">Now Barney needs to pack a backpack and so he wants to know more about his upcoming journey: for every city i, Barney wants to know the expected value of starting_time[i]. He&apos;s a friend of Jon Snow and knows nothing, that&apos;s why he asked for your help.</span><br><span class="line">Input</span><br><span class="line"></span><br><span class="line">The first line of input contains a single integer n (1 ≤ n ≤ 105) — the number of cities in USC.</span><br><span class="line"></span><br><span class="line">The second line contains n - 1 integers p2, p3, ..., pn (1 ≤ pi &lt; i), where pi is the number of the parent city of city number i in the tree, meaning there is a road between cities numbered pi and i in USC.</span><br><span class="line">Output</span><br><span class="line"></span><br><span class="line">In the first and only line of output print n numbers, where i-th number is the expected value of starting_time[i].</span><br><span class="line"></span><br><span class="line">Your answer for each city will be considered correct if its absolute or relative error does not exceed 10 - 6.</span><br><span class="line">Examples</span><br><span class="line">Input</span><br><span class="line"></span><br><span class="line">7</span><br><span class="line">1 2 1 1 4 4</span><br><span class="line"></span><br><span class="line">Output</span><br><span class="line"></span><br><span class="line">1.0 4.0 5.0 3.5 4.5 5.0 5.0 </span><br><span class="line"></span><br><span class="line">Input</span><br><span class="line"></span><br><span class="line">12</span><br><span class="line">1 1 2 2 4 4 3 3 1 10 8</span><br><span class="line"></span><br><span class="line">Output</span><br><span class="line"></span><br><span class="line">1.0 5.0 5.5 6.5 7.5 8.0 8.0 7.0 7.5 6.5 7.5 8.0</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;set&gt;</span><br><span class="line">//multiset的定义在set头文件中</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int data[100005][2];//[0]自身以及子节点的数量[1]父节点</span><br><span class="line">double ans[100005];</span><br><span class="line"></span><br><span class="line">struct Node &#123;</span><br><span class="line">	int x;//父节点</span><br><span class="line">	int y;//子节点</span><br><span class="line"></span><br><span class="line">	Node(int x, int y): x(x), y(y) &#123;</span><br><span class="line">	&#125;</span><br><span class="line">	int operator &lt; (Node const &amp; n) const &#123;//倒序</span><br><span class="line">		return x &gt; n.x;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">multiset&lt;Node&gt; ms;</span><br><span class="line"></span><br><span class="line">int main(int argc, char const *argv[])</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	int n, temp;</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;n);</span><br><span class="line">	data[1][0] = 1;</span><br><span class="line">	for (int i = 2; i &lt;= n; i++) &#123;</span><br><span class="line">		scanf(&quot;%d&quot;, &amp;temp);</span><br><span class="line">		data[i][0] = 1;</span><br><span class="line">		data[i][1] = temp;</span><br><span class="line">		Node n(temp, i);</span><br><span class="line">		ms.insert(n);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 从树的最底开始上升</span><br><span class="line">	int cou = 0;</span><br><span class="line">	for (multiset&lt;Node&gt;::iterator i = ms.begin(); i != ms.end(); ++i) &#123;</span><br><span class="line">		data[i-&gt;x][0] += data[i-&gt;y][0];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	ans[1] = 1.0;</span><br><span class="line">	printf(&quot;1.0&quot;);</span><br><span class="line">	for (int i = 2; i &lt;= n; i++) &#123;</span><br><span class="line">		/**</span><br><span class="line">		* 第i个节点的期望 == 它的父节点的期望 + 在它自身的耗时(1) + 第i个节点的兄弟节点及它拓展的子节点耗时的期望(即兄弟节点及它拓展的子节点数 * 0.5)</span><br><span class="line">		* (兄弟节点及它拓展的子节点数 == i 的父节点 - i 节点拓展的树的所有节点(包括i) - 1(父节点自身))，</span><br><span class="line">		* 这些节点每一个要么在i之前被遍历，要么在i之后，于是期望值乘以0.5</span><br><span class="line">		*/</span><br><span class="line">		ans[i] = ans[data[i][1]] + 1 + (data[data[i][1]][0] - 1 - data[i][0]) * 0.5;</span><br><span class="line">		printf(&quot; %.1f&quot;, ans[i]);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/02/01/HDU 2577 How To Type 动态规划/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/01/HDU 2577 How To Type 动态规划/" itemprop="url">HDU 2577 How To Type 动态规划</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-01T17:59:56+08:00">2018-02-01</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>How to Type</p>
<p>  Time Limit: 2000/1000 MS (Java/Others)    Memory Limit: 32768/32768 K (Java/Others)</p>
<p>  Total Submission(s): 7448    Accepted Submission(s): 3374</p>
<p>  Problem Description</p>
<p>  Pirates have finished developing the typing software. He called Cathy to test his typing software. She is good at thinking. After testing for several days, she finds that if she types a string by some ways, she will type the key at least. But she has a bad habit that if the caps lock is on, she must turn off it, after she finishes typing. Now she wants to know the smallest times of typing the key to finish typing a string.</p>
<p>  Input</p>
<p>  The first line is an integer t (t&lt;=100), which is the number of test case in the input file. For each test case, there is only one string which consists of lowercase letter and upper case letter. The length of the string is at most 100.</p>
<p>  Output</p>
<p>  For each test case, you must output the smallest times of typing the key to finish typing this string.</p>
<p>  Sample Input</p>
<p>  3</p>
<p>  Pirates</p>
<p>  HDUacm</p>
<p>  HDUACM</p>
<p>  Sample Output</p>
<p>  8</p>
<p>  8</p>
<p>  8</p>
<p>  Hint</p>
<p>  The string “Pirates”, can type this way, Shift, p, i, r, a, t, e, s, the answer is 8.</p>
<p>  The string “HDUacm”, can type this way, Caps lock, h, d, u, Caps lock, a, c, m, the answer is 8</p>
<p>  The string “HDUACM”, can type this way Caps lock h, d, u, a, c, m, Caps lock, the answer is 8</p>
<p>  Author</p>
<p>  Dellenge</p>
<p>  Source</p>
<p>  HDU 2009-5 Programming Contest</p>
<p>  Recommend</p>
<p>  lcy</p>
</blockquote>
<p><strong>输入每个字符前的状态是：</strong><br><strong>大小写锁开启on或者关闭off</strong></p>
<p><strong><em>注意开启锁时按shift可以输入小写</em></strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isup</span><span class="params">(<span class="keyword">char</span> a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a &amp;gt;= <span class="string">'A'</span> &amp;amp;&amp;amp; a &amp;lt;= <span class="string">'Z'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="keyword">char</span> data[<span class="number">105</span>];</span><br><span class="line">    <span class="keyword">int</span> off[<span class="number">105</span>];</span><br><span class="line">    <span class="keyword">int</span> on[<span class="number">105</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;amp;t);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">        <span class="keyword">int</span> capsLock = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, data);</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="comment">// 每次输入之前锁有两种状态</span></span><br><span class="line">        off[<span class="number">0</span>] = <span class="number">0</span>;<span class="comment">//表示输入第i个字符前状态为off/on的按键最少次数</span></span><br><span class="line">        on[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; data[i] != <span class="string">'\0'</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (isup(data[i])) &#123;</span><br><span class="line">                <span class="comment">// 输入大写字母以后锁：on</span></span><br><span class="line">                <span class="comment">// 直接输入，按下caps再输入（原先锁off）</span></span><br><span class="line">                on[i + <span class="number">1</span>] = min(on[i] + <span class="number">1</span>, off[i] + <span class="number">2</span>);</span><br><span class="line">                <span class="comment">// 输入大写字母以后锁：off</span></span><br><span class="line">                <span class="comment">// 按下caps再输入（原先锁on）,按shift输入</span></span><br><span class="line">                off[i + <span class="number">1</span>] = min(on[i] + <span class="number">2</span>, off[i] + <span class="number">2</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">                on[i + <span class="number">1</span>] = min(on[i] + <span class="number">2</span>, off[i] + <span class="number">2</span>);</span><br><span class="line">                off[i + <span class="number">1</span>] = min(on[i] + <span class="number">2</span>, off[i] + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, min(on[i] + <span class="number">1</span>, off[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/02/01/两大LCS问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/01/两大LCS问题/" itemprop="url">两大LCS问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-01T12:09:09+08:00">2018-02-01</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="0x00-相同子序：（不要求连续）"><a href="#0x00-相同子序：（不要求连续）" class="headerlink" title="0x00 相同子序：（不要求连续）"></a>0x00 相同子序：（不要求连续）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">// // #define DEBUG</span><br><span class="line">// #ifdef DEBUG</span><br><span class="line">// #define SHOW</span><br><span class="line">// #else</span><br><span class="line">// #define SHOW /##/</span><br><span class="line">// #endif</span><br><span class="line">// 不可行，注释先于预处理指令被处理</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">// LCS共同子序不要求连续</span><br><span class="line"></span><br><span class="line">int main(int argc, char const *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	string s1, s2;</span><br><span class="line">	while (cin &gt;&gt; s1 &gt;&gt; s2) &#123;</span><br><span class="line">		int len1 = s1.length();//不包括末尾的&apos;\0&apos;</span><br><span class="line">		int len2 = s2.length();</span><br><span class="line">		int ans = 0;</span><br><span class="line">		int dp[len1 + 5][len2 + 5] = &#123;&#125;;//初始化为0避免边界讨论</span><br><span class="line"></span><br><span class="line">		// printf(&quot;\t\t&quot;);</span><br><span class="line">		// for (int y = 0; y &lt; len2; y++) &#123;</span><br><span class="line">		// 	printf(&quot;%c\t&quot;, s2[y]);</span><br><span class="line">		// &#125;</span><br><span class="line">		// printf(&quot;\n\t&quot;);</span><br><span class="line"></span><br><span class="line">		// for (int y = 0; y &lt;= len2; y++) &#123;</span><br><span class="line">		// 	printf(&quot;%d\t&quot;, dp[0][y]);</span><br><span class="line"></span><br><span class="line">		// &#125;</span><br><span class="line">		// printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">		for (int x = 1; x &lt;= len1; x++) &#123;</span><br><span class="line">			// printf(&quot;%c\t&quot;, s1[x - 1]);</span><br><span class="line">			// printf(&quot;%d\t&quot;, dp[x][0]);</span><br><span class="line">			for (int y = 1; y &lt;= len2; y++) &#123;</span><br><span class="line">				if (s1[x - 1] == s2[y - 1]) &#123;//之所以减一是由于循环变量从1开始</span><br><span class="line">					dp[x][y] = dp[x - 1][y - 1] + 1;// 等于左上方格子加一</span><br><span class="line">					// printf(&quot;↖%d\t&quot;, dp[x][y]);</span><br><span class="line">				&#125; else &#123;</span><br><span class="line">					dp[x][y] = max(dp[x - 1][y], dp[x][y - 1]);// 向左上方的所有格子取最大值(实际上只需要从左边和上边选取最大值)</span><br><span class="line">					// if (dp[x][y] == dp[x - 1][y]) &#123;</span><br><span class="line">					// 	printf(&quot;↑%d\t&quot;, dp[x][y]);</span><br><span class="line">					// &#125; else &#123;</span><br><span class="line">					// 	printf(&quot;←%d\t&quot;, dp[x][y]);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			// printf(&quot;\n&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		/**</span><br><span class="line">		*	abcfbc abfcab</span><br><span class="line">		*	dp数组:</span><br><span class="line">		*</span><br><span class="line">		*			a	b	f	c	a	b</span><br><span class="line">		*		0	0	0	0	0	0	0</span><br><span class="line">		*	a	0	↖1	←1	←1	←1	↖1	←1</span><br><span class="line">		*	b	0	↑1	↖2	←2	←2	←2	↖2</span><br><span class="line">		*	c	0	↑1	↑2	↑2	↖3	←3	←3</span><br><span class="line">		*	f	0	↑1	↑2	↖3	↑3	↑3	↑3</span><br><span class="line">		*	b	0	↑1	↖2	↑3	↑3	↑3	↖4</span><br><span class="line">		*	c	0	↑1	↑2	↑3	↖4	←4	↑4</span><br><span class="line">		*	</span><br><span class="line">		*	out:4</span><br><span class="line">		*/</span><br><span class="line"></span><br><span class="line">		for (int x = 1; x &lt;= len1; x++) &#123;</span><br><span class="line">			for (int y = 1; y &lt;= len2; y++) &#123;</span><br><span class="line">				ans = max(ans, dp[x][y]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		printf(&quot;%d\n&quot;, ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="0x01-相同子列（连续）"><a href="#0x01-相同子列（连续）" class="headerlink" title="0x01 相同子列（连续）"></a>0x01 相同子列（连续）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">// LCS共同连续子列</span><br><span class="line"></span><br><span class="line">int main(int argc, char const *argv[])</span><br><span class="line">&#123;</span><br><span class="line">	string s1, s2;</span><br><span class="line">	while (cin &gt;&gt; s1 &gt;&gt; s2) &#123;</span><br><span class="line">		int len1 = s1.length();//不包括末尾的&apos;\0&apos;</span><br><span class="line">		int len2 = s2.length();</span><br><span class="line">		int ans = 0;</span><br><span class="line">		int dp[len1 + 5][len2 + 5] = &#123;&#125;;//初始化为0避免边界讨论</span><br><span class="line"></span><br><span class="line">		// printf(&quot;\t\t&quot;);</span><br><span class="line">		// for (int y = 0; y &lt; len2; y++) &#123;</span><br><span class="line">		// 	printf(&quot;%c\t&quot;, s2[y]);</span><br><span class="line">		// &#125;</span><br><span class="line">		// printf(&quot;\n\t&quot;);</span><br><span class="line"></span><br><span class="line">		// for (int y = 0; y &lt;= len2; y++) &#123;</span><br><span class="line">		// 	printf(&quot;%d\t&quot;, dp[0][y]);</span><br><span class="line"></span><br><span class="line">		// &#125;</span><br><span class="line">		// printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">		for (int x = 1; x &lt;= len1; x++) &#123;</span><br><span class="line">			// printf(&quot;%c\t&quot;, s1[x - 1]);</span><br><span class="line">			// printf(&quot;%d\t&quot;, dp[x][0]);</span><br><span class="line">			for (int y = 1; y &lt;= len2; y++) &#123;</span><br><span class="line">				if (s1[x - 1] == s2[y - 1]) &#123;//之所以减一是由于循环变量从1开始</span><br><span class="line">					dp[x][y] = dp[x - 1][y - 1] + 1;// 等于左上方格子加一</span><br><span class="line">					// printf(&quot;↖%d\t&quot;, dp[x][y]);</span><br><span class="line">				&#125;//不相等则无需处理</span><br><span class="line">				// else &#123;</span><br><span class="line">				// 	printf(&quot;%d\t&quot;, dp[x][y]);</span><br><span class="line">				// &#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			// printf(&quot;\n&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		/**</span><br><span class="line">		*	abcfbc abfcab</span><br><span class="line">		*	dp数组:</span><br><span class="line">		*</span><br><span class="line">		*			a	b	f	c	a	b</span><br><span class="line">		*		0	0	0	0	0	0	0</span><br><span class="line">		*	a	0	↖1	0	0	0	↖1	0</span><br><span class="line">		*	b	0	0	↖2	0	0	0	↖2</span><br><span class="line">		*	c	0	0	0	0	↖1	0	0</span><br><span class="line">		*	f	0	0	0	↖1	0	0	0</span><br><span class="line">		*	b	0	0	↖1	0	0	0	↖1</span><br><span class="line">		*	c	0	0	0	0	↖1	0	0</span><br><span class="line">		*</span><br><span class="line">		*	out:2</span><br><span class="line">		*/</span><br><span class="line"></span><br><span class="line">		for (int x = 1; x &lt;= len1; x++) &#123;</span><br><span class="line">			for (int y = 1; y &lt;= len2; y++) &#123;</span><br><span class="line">				ans = max(ans, dp[x][y]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		printf(&quot;%d\n&quot;, ans);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/01/28/HDU 2089的类似题（62换成了38） 数位dp解释/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/28/HDU 2089的类似题（62换成了38） 数位dp解释/" itemprop="url">HDU 2089的类似题（62换成了38） 数位dp解释</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-28T23:41:21+08:00">2018-01-28</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/算法/" itemprop="url" rel="index"><span itemprop="name">算法</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><a href="https://www.nowcoder.com/acm/contest/74/G" target="_blank" rel="noopener">链接</a><br>来源：牛客网</p>
<p>杭州人称傻乎乎的人为62，而嘟嘟家这里没有这样的习俗。</p>
<p>相比62，他那里的人更加讨厌数字38，当然啦，还有4这个</p>
<p>数字！所以啊，嘟嘟不点都不想见到包含38或者4的数字。</p>
<p>每次给出一个区间[n，m],你能找到所有令人讨厌的数字吗？</p>
<p>输入描述:</p>
<p>多组输入输出；<br>输入的都是整数对n、m（0&lt;n≤m&lt;1000000），<br>如果遇到都是0的整数对，则输入结束。</p>
<p>输出描述:</p>
<p>对于每次的输入<br>输出全部令人讨厌的数的个数</p>
<p>示例1<br>输入</p>
<p>1 100<br>0 0</p>
<p>输出</p>
<p>20</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">using namespace std ;</span><br><span class="line">const int len = 7 ;</span><br><span class="line">int dp[8][10] , bit[8] ;//全局变量初始为0，dp[x][y]数组表示长为x的以y打头的所有数中“合法”数的个数，</span><br><span class="line">// 注意首位为0的数也看作x位，例如0123看作4位数，</span><br><span class="line">// 原因：如果不考虑以0开头的数那么dp[3][3] = dp[2][9] + dp[2][8] + ...+ dp[2][2] + dp [2][1] + dp[1][9] + dp[1][8] + ... + dp[1][2] + dp[1][1]</span><br><span class="line">// 若把所有一位数看作以0开头的2位数则实际上dp[3][3] = dp[2][9] + dp[2][8] + ...+ dp[2][2] + dp [2][1] + dp[2][0]</span><br><span class="line">// 所以认为dp[x][0] = dp[x-1][0...9]</span><br><span class="line">// 我们只需要把dp[2][0...9]这些加起来就好了</span><br><span class="line">int n , m ;</span><br><span class="line"></span><br><span class="line">void Get_dp() &#123;</span><br><span class="line">	dp[0][0] = 1 ;</span><br><span class="line">	for ( int i = 1 ; i &lt;= len ; ++i )//长度i从1到7</span><br><span class="line">		for ( int j = 0 ; j &lt;= 9 ; ++j )//数值j从0到9</span><br><span class="line">			if ( j != 4 )//排除j等于4的情况</span><br><span class="line">				for ( int k = 0 ; k &lt;= 9 ; ++k )//第二个数值k从0到9</span><br><span class="line">					if ( !( j == 3 &amp;&amp; k == 8 ) )//排除j，k为3，8的情况</span><br><span class="line">						dp[i][j] += dp[i - 1][k] ;//i从1开始所以i-1不会越界且由于是全局变量默认值为0，所以免去了对i-1是否越界的讨论</span><br><span class="line"></span><br><span class="line">					/**</span><br><span class="line">					* 从长为1位的数，开头的数从0到9，填表</span><br><span class="line">					* 状态转移方程：</span><br><span class="line">					* dp[x][y] = 0;	若y==4</span><br><span class="line">					* 			dp[x-1][0...9];	若y!=3（相当于在所有x-1位的合法数前面加了个不是3的数，肯定也是合法数）</span><br><span class="line">					* 			dp[x-1][0...9] - dp[x-1][8];	若y==3则要排除掉第二位为8的情况</span><br><span class="line">					*/</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int solve( int n ) &#123;//根据表来得出从1到n（实际上没有包括n，因为下面有一句for ( int j = 0 ; j &lt; bit[i] ; ++j )用的小于号，我们先不考虑这细节）的所有合法数的个数</span><br><span class="line">	memset( bit , 0 , sizeof( bit ) ) ;//将n分解放入bit数组中</span><br><span class="line">	int top = 0 ;//（从n的底位到高位倒序放入）</span><br><span class="line">	while ( n ) &#123;</span><br><span class="line">		bit[++top] = n % 10 ;</span><br><span class="line">		n /= 10 ;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	int ans = 0 ;//保存所有合法数个数</span><br><span class="line">	for ( int i = len ; i &gt;= 1 ; --i ) &#123;//i从数的最高位开始向下</span><br><span class="line">		for ( int j = 0 ; j &lt; bit[i] ; ++j )</span><br><span class="line">			if ( !( bit[i + 1] == 3 &amp;&amp; j == 8 ) )</span><br><span class="line">				ans += dp[i][j] ;//排除上一位是3且这一位以8开头的情况</span><br><span class="line">		if ( bit[i] == 4 || ( bit[i + 1] == 3 &amp;&amp; bit[i] == 8 ) )</span><br><span class="line">			break ;//若这一位是4则跳出循环</span><br><span class="line">	&#125;</span><br><span class="line">	/**</span><br><span class="line">	* 这里举个例子解释一下：</span><br><span class="line">	* 假设输入n为243</span><br><span class="line">	* 那么我们应该将1...243分解成		000...199		200...239 		240...242				243</span><br><span class="line">	* 对应一下其实就是				dp[3][0...1]	dp[2][0...3]	dp[1][0...2]			dp[0][]恒为0（所以代码中不管数字n是否合法都没有考虑到，最终返回值其实是1...n-1的所有合法数个数）</span><br><span class="line">	* 注解							(1)				(2)				(3)不合法，之后的也是		(4)不合法</span><br><span class="line">	* </span><br><span class="line">	* (1)从最高位开始</span><br><span class="line">	* (2)00...39中的所有合法数前面加一个2还是合法数</span><br><span class="line">	* (3)0...2的前面加上一个4出问题了！！，所有的0...2中的合法数变得不合法,应该排除,接下来所以位的分解前面也会加上4，所以直接跳出循环</span><br><span class="line">	*	if ( bit[i] == 4 || ( bit[i + 1] == 3 &amp;&amp; bit[i] == 8 ) )</span><br><span class="line">	* 		break ;//若这一位是4则跳出循环</span><br><span class="line">	* (4)这里为什么单独分开来？提示：“小于”号“&lt;”</span><br><span class="line">	* </span><br><span class="line">	* 其实这些分法都是受到了上面的：</span><br><span class="line">	* for ( int j = 0 ; j &lt; bit[i] ; ++j )</span><br><span class="line">	* 的影响（注意小于号），也就是按照这条语句来分的</span><br><span class="line">	* 需要仔细想想</span><br><span class="line">	*/</span><br><span class="line">	return ans ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">	Get_dp() ;//打表</span><br><span class="line">	while ( cin &gt;&gt; n &gt;&gt; m &amp;&amp; ( n || m ) )</span><br><span class="line">		cout &lt;&lt; m - n + 1 - ( solve( m + 1 ) - solve( n ) ) &lt;&lt; endl ;</span><br><span class="line">	return 0 ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/01/27/树莓派指令集合/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/27/树莓派指令集合/" itemprop="url">树莓派指令集合</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-27T22:08:59+08:00">2018-01-27</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/raspberry-pi/" itemprop="url" rel="index"><span itemprop="name">raspberry pi</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="获取温度："><a href="#获取温度：" class="headerlink" title="获取温度："></a>获取温度：</h2><blockquote>
<p>cat /sys/class/thermal/thermal_zone0/temp<br>温度要除以1000</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/01/21/Java继承的覆盖与隐藏/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/21/Java继承的覆盖与隐藏/" itemprop="url">Java继承的覆盖与隐藏</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-21T22:39:20+08:00">2018-01-21</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考：<br><a href="https://www.cnblogs.com/it12345/p/5221673.html" target="_blank" rel="noopener">https://www.cnblogs.com/it12345/p/5221673.html</a></p>
<h3 id="隐藏和覆盖的区别"><a href="#隐藏和覆盖的区别" class="headerlink" title="隐藏和覆盖的区别"></a>隐藏和覆盖的区别</h3><p><strong>隐藏：将类型转换为父类的类型 即可解除 隐藏<br>覆盖：将类型转换为父类的类型也 不能 解除覆盖</strong></p>
<h3 id="成员变量"><a href="#成员变量" class="headerlink" title="成员变量"></a>成员变量</h3><p><strong>只可能被隐藏，不存在覆盖一说</strong></p>
<p>父类的成员变量静态或非静态都可能被子类中同名的成员变量 隐藏 （不一定要匹配类型，同名即可隐藏）</p>
<h4 id="处理"><a href="#处理" class="headerlink" title="处理"></a>处理</h4><p><strong>直接用圆点运算符父类中的成员变量的办法：将类型转换为父类的类型。</strong><br><strong>在子类的方法中调用父类中被隐藏的成员变量的办法：在子类方法中使用super关键字配合圆点运算符取父类中的成员变量。</strong></p>
<h3 id="成员方法"><a href="#成员方法" class="headerlink" title="成员方法"></a>成员方法</h3><p>可以被隐藏，也可以被覆盖<br>同名的实例方法被覆盖 ，同名的静态方法被隐藏</p>
<h4 id="补充：继承规则"><a href="#补充：继承规则" class="headerlink" title="补充：继承规则"></a>补充：继承规则</h4><p>子类中与父类同名同参的方法才会发生重写，<br>重写时：<br>1.要求重写的方法的静态与非静态属性相同，<br>2.要求重写的方法的返回值类型相同，<br>3.重写后方法的可访问性必须更开放或不变，例如：private-&gt;public<br>不满足这三条的程序将报错无法通过编译</p>
<p><strong>若重写了实例方法，则发生覆盖</strong><br><strong> 若重写了静态方法，则发生隐藏</strong></p>
<h4 id="处理-1"><a href="#处理-1" class="headerlink" title="处理"></a>处理</h4><p><strong>通过反射能直接调用被“覆盖”的父类的方法的目的</strong><br><strong>无法在外部调用被“覆盖”的父类方法，只能在子类的内部使用super关键字配合圆点运算符调用父类的方法</strong><br><strong>无法通过转换类型达到调用被“覆盖”的父类的方法的目的</strong></p>
<h3 id="关于方法中使用到成员变量的问题"><a href="#关于方法中使用到成员变量的问题" class="headerlink" title="关于方法中使用到成员变量的问题"></a>关于方法中使用到成员变量的问题</h3><p><strong>所取用的成员变量是子类中的还是父类中的取决于实际被调用的方法是在父类中还是子类中，以实际被调用的方法所在位置来观察可以判断出使用的是哪里的成员变量。</strong></p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public class Main &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">		Ch ch = new Ch();</span><br><span class="line">		ch.show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Su&#123;</span><br><span class="line">	int a = 3;//被隐藏</span><br><span class="line">	String b =&quot;what&quot;;//被隐藏</span><br><span class="line">	void show() &#123;//被覆盖</span><br><span class="line">		System.out.println(a);</span><br><span class="line">		System.out.println(b);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Ch extends Su&#123;</span><br><span class="line">	float a = 1.23f;//发生隐藏</span><br><span class="line">	boolean b = false;//发生隐藏</span><br><span class="line"></span><br><span class="line">	void show() &#123;//发生覆盖</span><br><span class="line">		System.out.println(a);</span><br><span class="line">		System.out.println(b);</span><br><span class="line">		super.show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 输出：</span><br><span class="line"> * 1.23</span><br><span class="line"> * false</span><br><span class="line"> * 3</span><br><span class="line"> * what</span><br><span class="line"> * </span><br><span class="line">*/</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/01/21/重拾Python之旅/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/21/重拾Python之旅/" itemprop="url">重拾Python之旅</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-21T00:11:50+08:00">2018-01-21</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line">#coding:utf-8</span><br><span class="line"></span><br><span class="line"># http://www.he11oworld.com/course/54</span><br><span class="line"></span><br><span class="line"># linux上必须写 #!/usr/bin/env python 它能够引导程序找到python的解析器，也就是说，不管你这个文件保存在什么地方，这个程序都能执行，而不用制定Python的安装路径。</span><br><span class="line"># 如果是Windows操作系统，则不必写。</span><br><span class="line"># #coding:utf-8</span><br><span class="line"></span><br><span class="line"># #单行注释</span><br><span class="line"># </span><br><span class="line"># &apos;&apos;&apos;</span><br><span class="line"># 多行注释</span><br><span class="line"># &apos;&apos;&apos;</span><br><span class="line"># </span><br><span class="line"># &quot;&quot;&quot;</span><br><span class="line"># 或多行注释</span><br><span class="line"># &quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># python3:</span><br><span class="line"></span><br><span class="line">python支持&amp;|^位运算</span><br><span class="line"></span><br><span class="line"># bool运算符</span><br><span class="line">and #&amp;&amp;</span><br><span class="line">or #||</span><br><span class="line">not #!</span><br><span class="line"></span><br><span class="line">3//2	#1		直接去掉小数</span><br><span class="line">3/2		#1.5	不管是否整除都输出小数</span><br><span class="line">4/2		#1.0</span><br><span class="line">2**8	#256</span><br><span class="line"># python没有++和--</span><br><span class="line"></span><br><span class="line">type(10**100)</span><br><span class="line">#&lt;type &apos;long&apos;&gt;	py2</span><br><span class="line">#&lt;class &apos;int&apos;&gt;	py3</span><br><span class="line">#两个版本有区别，在Python 3中，不再有long类型对象了，都归类为int类型。</span><br><span class="line"></span><br><span class="line">id(233)</span><br><span class="line"># Help on built-in function id in module builtins:</span><br><span class="line"></span><br><span class="line"># id(obj, /)</span><br><span class="line">#     Return the identity of an object.</span><br><span class="line"></span><br><span class="line">#     This is guaranteed to be unique among simultaneously existing objects.</span><br><span class="line">#     (CPython uses the object&apos;s memory address.)</span><br><span class="line"></span><br><span class="line"># 除了使用%求余数，还有内建函数divmod()——返回的是商和余数。</span><br><span class="line">divmod(5, 2)	#表示5除以2，返回了商和余数</span><br><span class="line"># (2, 1)</span><br><span class="line">divmod(9, 2)</span><br><span class="line"># (4, 1)</span><br><span class="line">divmod(5.0, 2)</span><br><span class="line"># (2.0, 1.0)</span><br><span class="line"># Help on built-in function divmod in module builtins:</span><br><span class="line"></span><br><span class="line"># divmod(x, y, /)</span><br><span class="line">#     Return the tuple (x//y, x%y).  Invariant: div*y + mod == x.</span><br><span class="line"></span><br><span class="line"># round</span><br><span class="line"># adj. 	圆形的; 弧形的; 丰满的，肥胖的; 整数的;</span><br><span class="line"># adv. 	到处; 在周围; 迂回地; 朝反方向;</span><br><span class="line"># prep. 	大约; 绕过，环绕; （表示位置） 在…四周; 附近;</span><br><span class="line">round(1.22222,2)	#四舍五入，但有时由于十进制转二进制的问题导致结果不准确</span><br><span class="line">#1.22</span><br><span class="line">round(2.235, 2)</span><br><span class="line"># 2.23                #应该是：2.24</span><br><span class="line"># Help on built-in function round in module builtins:</span><br><span class="line"></span><br><span class="line"># round(...)</span><br><span class="line">#     round(number[, ndigits]) -&gt; number</span><br><span class="line"></span><br><span class="line">#     Round a number to a given precision in decimal digits (default 0 digits).</span><br><span class="line">#     This returns an int when called with one argument, otherwise the</span><br><span class="line">#     same type as the number. ndigits may be negative.</span><br><span class="line"></span><br><span class="line">math.pow(4, 2)</span><br><span class="line"># 16</span><br><span class="line">#	math.pow(x,y)等价于x ** y</span><br><span class="line"># Help on built-in function pow in module builtins:</span><br><span class="line"></span><br><span class="line"># pow(x, y, z=None, /)</span><br><span class="line">#     Equivalent to x**y (with two arguments) or x**y % z (with three arguments)</span><br><span class="line"></span><br><span class="line">#     Some types, such as ints, are able to use a more efficient algorithm when</span><br><span class="line">#     invoked using the three argument form.</span><br><span class="line"></span><br><span class="line">print(&quot;123\b123&quot;)#&apos;\b&apos;等于backspace键，会在光标处删去一个字符并前移</span><br><span class="line">#12123</span><br><span class="line">print(&quot;123\000123&quot;)</span><br><span class="line">#123 123</span><br><span class="line"># 转义字符描述</span><br><span class="line"># \(在行尾时) 续行符</span><br><span class="line"># \反斜杠符号</span><br><span class="line"># \&apos;单引号</span><br><span class="line"># \&quot;双引号</span><br><span class="line"># \a响铃</span><br><span class="line"># \b退格(Backspace)</span><br><span class="line"># \e转义</span><br><span class="line"># \000空</span><br><span class="line"># \n换行</span><br><span class="line"># \v纵向制表符</span><br><span class="line"># \t横向制表符</span><br><span class="line"># \r回车</span><br><span class="line"># \f换页</span><br><span class="line"># \oyy八进制数，yy代表的字符，例如：\o12代表换行</span><br><span class="line"># \xyy十六进制数，yy代表的字符，例如：\x0a代表换行</span><br><span class="line"># \other其它的字符以普通格式输出，如\q输出\q</span><br><span class="line"></span><br><span class="line"># str类型切片[x:y:z]	z步长,z不可为0,z不写默认为1</span><br><span class="line">lang = &quot;012345678&quot;</span><br><span class="line"># 从x开始以z为步长,满足在x与y直接且不等于y的位置的所有元素</span><br><span class="line">lang[:1]</span><br><span class="line"># &apos;0&apos;</span><br><span class="line"># 若什么都没截取到，返回 &apos;&apos;</span><br><span class="line">lang[:0]</span><br><span class="line"># &apos;&apos;</span><br><span class="line">lang[:9]</span><br><span class="line"># &apos;012345678&apos;</span><br><span class="line"># 若x或y的值为正数或零，则“边界指针”从字符串的左边数起，</span><br><span class="line"># 若为负数，则先按绝对值从右边数起转换为对应的正数</span><br><span class="line">lang = &quot;012345678&quot;</span><br><span class="line"># 		012345678 正数索引</span><br><span class="line"># 		-9-8-7-6-5-4-3-2-1 负数索引</span><br><span class="line"># 当x或者y不写时,看z,</span><br><span class="line"># 若z为正,则x默认为0,y默认为总长度,</span><br><span class="line"># 若z为负,则y默认为 -1 (不转换为正数),x默认为 总长度 - 1.</span><br><span class="line">lang[-1:]	# == lang[8:]</span><br><span class="line"># &apos;8&apos;</span><br><span class="line">lang[:-1]	# == lang[:8]</span><br><span class="line"># &apos;01234567&apos;</span><br><span class="line">lang[1:7:2]</span><br><span class="line"># &apos;135&apos;</span><br><span class="line">lang[1:7:-2]</span><br><span class="line"># &apos;&apos;</span><br><span class="line">lang[7:1:-2]</span><br><span class="line"># &apos;753&apos;</span><br><span class="line">lang[:7:2]	# == lang[0:7:2]</span><br><span class="line"># &apos;0246&apos;</span><br><span class="line">lang[:5:-2]</span><br><span class="line"># &apos;86&apos;</span><br><span class="line">lang[-1::-2]	#== lang[8::-2]</span><br><span class="line"># &apos;86420&apos;</span><br><span class="line"></span><br><span class="line">ord(&apos;a&apos;)</span><br><span class="line"># 97	#&apos;a&apos;的Unicode码(与ascii一致)</span><br><span class="line">ord(&apos; &apos;)</span><br><span class="line"># 32	#&apos; &apos;的Unicode码(与ascii一致)</span><br><span class="line"># Help on built-in function ord in module builtins:</span><br><span class="line"></span><br><span class="line"># ord(c, /)</span><br><span class="line">#     Return the Unicode code point for a one-character string.</span><br><span class="line"></span><br><span class="line">chr(97)</span><br><span class="line"># &apos;a&apos;</span><br><span class="line"># Help on built-in function chr in module builtins:</span><br><span class="line"></span><br><span class="line"># chr(i, /)</span><br><span class="line">#     Return a Unicode string of one character with ordinal i; 0 &lt;= i &lt;= 0x10ffff.</span><br><span class="line"></span><br><span class="line">cmp()</span><br><span class="line"># py3取消了 cmp() 内建函数，改用 &gt; &lt; ==比较字符串</span><br><span class="line"></span><br><span class="line"># is == 的区别</span><br><span class="line"># is比较的是id，比较判断的是对象间的唯一身份标识</span><br><span class="line"># ==比较的是值value是否相等，取决于__eq__()</span><br><span class="line"></span><br><span class="line">#关于 bool 类型</span><br><span class="line"># python 没有 ! 运算符，改用 not 运算符，对 bool 类型取反</span><br><span class="line">!True</span><br><span class="line">#   File &quot;&lt;stdin&gt;&quot;, line 1</span><br><span class="line">#     !True</span><br><span class="line">#     ^</span><br><span class="line"># SyntaxError: invalid syntax</span><br><span class="line">not True</span><br><span class="line"># False</span><br><span class="line"></span><br><span class="line"># 在python中 None,  False, 空字符串&quot;&quot;, 0, 空列表[], 空字典&#123;&#125;, 空元组()都相当于False</span><br><span class="line"></span><br><span class="line"># 格式化字符串 %</span><br><span class="line">&quot;I like %s&quot; % &quot;python&quot;</span><br><span class="line"># &apos;I like python&apos;</span><br><span class="line">&quot;%s like %s&quot; % (&quot;imlk&quot;,&quot;python&quot;)</span><br><span class="line"># &apos;imlk like python&apos;</span><br><span class="line"># 多个参数时使用 tuple (元组)</span><br><span class="line">&quot;%(name)s like %(what)s&quot; % &#123;&apos;name&apos;:&apos;imlk&apos;, &apos;what&apos;:&apos;python&apos;&#125;</span><br><span class="line"># &apos;imlk like python&apos;</span><br><span class="line"># &quot;%(name)s like %(what)s&quot; % &#123;&apos;name&apos;:&apos;imlk&apos;, &apos;what&apos;:&apos;python&apos;&#125;</span><br><span class="line">#		  ^				^</span><br><span class="line"># 配合字典使用注意标注参数类型</span><br><span class="line"></span><br><span class="line"># 格式化字符串 format</span><br><span class="line"># 占位符</span><br><span class="line"># &#123;[序号或唯一标识符][若该占位符参数为列表,此处可索引列表中元素,如[1]]:[填充字符][对齐方式 &lt;^&gt;(&lt;是字符默认,&gt;是整数和浮点数默认)][宽度][.n若明确参数类型f,则表示小数点后精度n,若不明确,对于str,截取前n个字符,对于浮点型,用科学记数法表示并把e以前的数字个数限制为n个][参数类型,如f,d,b二进制,o八进制,x十六进制]&#125;</span><br><span class="line">&quot;&#123;&#125; like &#123;&#125;&quot; .format(&quot;imlk&quot;,&quot;python&quot;)</span><br><span class="line"># &apos;imlk like python&apos;</span><br><span class="line">&quot;&#123;1&#125; like &#123;0&#125;&quot; .format(&quot;python&quot;,&quot;imlk&quot;)#指定序号</span><br><span class="line"># &apos;imlk like python&apos;</span><br><span class="line">&quot;&#123;name&#125;s like &#123;what&#125;&quot; .format(name =&apos;imlk&apos;, what=&apos;python&apos;)#这样写,函数内部得到的是一个字典&#123;&apos;name&apos;:&apos;imlk&apos;, &apos;what&apos;:&apos;python&apos;&#125;</span><br><span class="line"># &apos;imlks like python&apos;</span><br><span class="line">&apos;&#123;0[0]&#125; like &#123;0[1]&#125;&apos;.format(l)</span><br><span class="line"># &apos;imlk like python&apos;</span><br><span class="line">&apos;&#123;:20&#125;&apos;.format(111)</span><br><span class="line"># &apos;                 111&apos;</span><br><span class="line">&apos;&#123;:20&#125;&apos;.format(111.0)</span><br><span class="line"># &apos;               111.0&apos;</span><br><span class="line">&apos;&#123;:20&#125;&apos;.format(&apos;111&apos;)</span><br><span class="line"># &apos;111                 &apos;</span><br><span class="line">&apos;&#123;:20.2&#125;&apos;.format(111.0)</span><br><span class="line"># &apos;             1.1e+02&apos;</span><br><span class="line">&apos;&#123;:20.3&#125;&apos;.format(111.1111)</span><br><span class="line"># &apos;            1.11e+02&apos;</span><br><span class="line">&apos;&#123;:20.2f&#125;&apos;.format(111.1111)</span><br><span class="line"># &apos;              111.11&apos;</span><br><span class="line">&apos;&#123;:20.4&#125;&apos;.format(&apos;111.1111&apos;)</span><br><span class="line"># &apos;111\.                &apos;</span><br><span class="line"></span><br><span class="line"># Help on method_descriptor:</span><br><span class="line"></span><br><span class="line"># format(...)</span><br><span class="line">#     S.format(*args, **kwargs) -&gt; str</span><br><span class="line"></span><br><span class="line">#     Return a formatted version of S, using substitutions from args and kwargs.</span><br><span class="line">#     The substitutions are identified by braces (&apos;&#123;&apos; and &apos;&#125;&apos;).</span><br><span class="line"></span><br><span class="line"># 可变长度函数参数</span><br><span class="line"># *args 表示任何多个无名参数，它是一个 tuple (元组)</span><br><span class="line"># **kwargs 表示关键字参数，它是一个dict,字典中的 key 是传入参数的名称的 字符串 ,value 是传入参数等号后的值</span><br><span class="line"># 同时使用*args和**kwargs时，必须*args参数列要在**kwargs前</span><br><span class="line"></span><br><span class="line"># 可将元组作为参数列表传入</span><br><span class="line"># 例如:</span><br><span class="line">t = (&quot;python&quot;,&quot;imlk&quot;)</span><br><span class="line">&quot;&#123;1&#125; like &#123;0&#125;&quot; .format(*t)	# *接元组表示把元组解开作为参数传入</span><br><span class="line"># &apos;imlk like python&apos;</span><br><span class="line"># 同理可将字典作为参数列表传入</span><br><span class="line"># 例如:</span><br><span class="line">d = &#123;&apos;name&apos;:&apos;imlk&apos;, &apos;what&apos;:&apos;python&apos;&#125;</span><br><span class="line">&quot;&#123;name&#125; like &#123;what&#125;&quot; .format(**d)# **接字典表示把字典解开作为参数传入</span><br><span class="line"># &apos;imlk like python&apos;</span><br><span class="line"></span><br><span class="line"># 参考:</span><br><span class="line"># https://www.cnblogs.com/fengmk2/archive/2008/04/21/1163766.html</span><br><span class="line"># https://www.cnblogs.com/benric/p/4965224.html</span><br><span class="line"></span><br><span class="line"># 去除字符串两端的空格,返回去除后的字符串,源串不变,同类有lstrip()左,rstrip()右</span><br><span class="line"># str.strip()</span><br><span class="line"># Help on method_descriptor:</span><br><span class="line"></span><br><span class="line"># strip(...)</span><br><span class="line">#     S.strip([chars]) -&gt; str</span><br><span class="line"></span><br><span class="line">#     Return a copy of the string S with leading and trailing</span><br><span class="line">#     whitespace removed.</span><br><span class="line">#     If chars is given and not None, remove characters in chars instead.</span><br><span class="line"></span><br><span class="line"># [] list 列表</span><br><span class="line"># 类型不限 元素类型可异 有序 元素可重复 内容可变(原地改变,id不变)(append,insert,pop,extend等) 不可做为dic的key</span><br><span class="line">list = [1,&apos;233&apos;,&apos;imlk&apos;,True]</span><br><span class="line">bool(list)	#判断是否空列表若列表为空则返回False</span><br><span class="line">int(list)	#不合法！！！！！</span><br><span class="line"></span><br><span class="line"># 长度</span><br><span class="line">len(list)</span><br><span class="line"></span><br><span class="line"># +，连接两个序列</span><br><span class="line"># *，重复列表中的所有元素</span><br><span class="line"># in 判断是否在列表中</span><br><span class="line"></span><br><span class="line"># 最大最小</span><br><span class="line">max(list)</span><br><span class="line">min(list)</span><br><span class="line"></span><br><span class="line"># 列表比较</span><br><span class="line"># 同 str 中一样 cmp()在py3已经废弃,改用 &lt; == &gt;</span><br><span class="line"># 按元素序号从左到右依次比较,若遇到类型不符则报错</span><br><span class="line">list1 = [1,2]</span><br><span class="line">list2 = [1,1]</span><br><span class="line">list1 &lt; list2</span><br><span class="line"># False</span><br><span class="line">list2 = [1,&apos;1&apos;]</span><br><span class="line">list1 &lt; list2</span><br><span class="line"># Traceback (most recent call last):</span><br><span class="line">#   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line"># TypeError: unorderable types: int() &lt; str()</span><br><span class="line">list2 = [2,&apos;1&apos;]</span><br><span class="line">list1 &lt; list2</span><br><span class="line"># True</span><br><span class="line"></span><br><span class="line"># 列表反转</span><br><span class="line">list[::-1]</span><br><span class="line"># 或</span><br><span class="line">reversed(list)#返回一个迭代器</span><br><span class="line"></span><br><span class="line"># list 中的每一个位置实际上维护的是对对象的引用</span><br><span class="line">l</span><br><span class="line"># [&apos;imlk&apos;, &apos;python&apos;]</span><br><span class="line">l.append(l)</span><br><span class="line">l</span><br><span class="line"># [&apos;imlk&apos;, &apos;python&apos;, [...]]</span><br><span class="line">l[2]</span><br><span class="line"># [&apos;imlk&apos;, &apos;python&apos;, [...]]</span><br><span class="line">l[2]</span><br><span class="line"># [&apos;imlk&apos;, &apos;python&apos;, [...]]</span><br><span class="line">l[2][2][2][2]</span><br><span class="line"># [&apos;imlk&apos;, &apos;python&apos;, [...]]</span><br><span class="line">li = [&apos;emmmm&apos;]</span><br><span class="line">l.append(li)</span><br><span class="line">l</span><br><span class="line"># [&apos;imlk&apos;, &apos;python&apos;, [...], [&apos;emmmm&apos;]]</span><br><span class="line">li.append(&apos;233&apos;)</span><br><span class="line">l</span><br><span class="line"># [&apos;imlk&apos;, &apos;python&apos;, [...], [&apos;emmmm&apos;, &apos;233&apos;]]</span><br><span class="line">l.extend(l)	#将一共可迭代的对象的全体内容加到该列表中</span><br><span class="line">l</span><br><span class="line"># [&apos;imlk&apos;, &apos;python&apos;, [...], [&apos;emmmm&apos;, &apos;233&apos;], &apos;imlk&apos;, &apos;python&apos;, [...], [&apos;emmmm&apos;, &apos;233&apos;]]</span><br><span class="line"># Help on method_descriptor:</span><br><span class="line"></span><br><span class="line"># extend(...)</span><br><span class="line">#     L.extend(iterable) -&gt; None -- extend list by appending elements from the iterable</span><br><span class="line"></span><br><span class="line">l.count(&apos;imlk&apos;)	#找出某个元素出现的次数</span><br><span class="line"># 2</span><br><span class="line"></span><br><span class="line"># attribute</span><br><span class="line"># vt.	认为…是; 把…归于; 把…品质归于某人; 认为某事[物]属于某人[物];</span><br><span class="line"># n.	属性; （人或物的） 特征; 价值; [语法学] 定语;</span><br><span class="line">hasattr(lang, &apos;__iter__&apos;)</span><br><span class="line"># 判断某个类或者对象,模块(module)是否有某种属性,函数</span><br><span class="line"># Help on built-in function hasattr in module builtins:</span><br><span class="line"></span><br><span class="line"># hasattr(obj, name, /)</span><br><span class="line">#     Return whether the object has an attribute with the given name.</span><br><span class="line"></span><br><span class="line">#     This is done by calling getattr(obj, name) and catching AttributeError.</span><br><span class="line"></span><br><span class="line"># 查看语言保留字</span><br><span class="line">import keyword</span><br><span class="line">keyword.kwlist</span><br><span class="line"></span><br><span class="line"># whitespace</span><br><span class="line"># 网络 	空白符; 空白字符; 空格; 白空格; 白空间;</span><br><span class="line"># separator</span><br><span class="line"># n. 	分离器，分离装置; 防胀器; </span><br><span class="line">s = &quot;I am, writing\npython\tbook on line&quot; #这个字符串中有空格，逗号，换行\n，tab缩进\t 符号</span><br><span class="line">print s #输出之后的样式</span><br><span class="line"># I am, writing</span><br><span class="line"># python book on line</span><br><span class="line">s.split() #用split(),但是括号中不输入任何参数</span><br><span class="line"># [&apos;I&apos;, &apos;am,&apos;, &apos;writing&apos;, &apos;python&apos;, &apos;book&apos;, &apos;on&apos;, &apos;line&apos;]</span><br><span class="line"># 如果split()不输入任何参数，显示就是见到任何空白符号，就用其分割了。</span><br><span class="line"></span><br><span class="line"># Help on method_descriptor:</span><br><span class="line"></span><br><span class="line"># split(...)</span><br><span class="line">#     S.split(sep=None, maxsplit=-1) -&gt; list of strings</span><br><span class="line"></span><br><span class="line">#     Return a list of the words in S, using sep as the</span><br><span class="line">#     delimiter string.  If maxsplit is given, at most maxsplit</span><br><span class="line">#     splits are done. If sep is not specified or is None, any</span><br><span class="line">#     whitespace string is a separator and empty strings are</span><br><span class="line">#     removed from the result.</span><br><span class="line"></span><br><span class="line"># () tuple 元组</span><br><span class="line"># 类型不限 元素类型可异 有序 长度不可变 元素可重复 速度快 相当于常量 可以作为dic的key 可用在字符串的格式化中</span><br><span class="line">t = 1,&quot;23&quot;,[123,&quot;abc&quot;],(&quot;python&quot;,&quot;learn&quot;)   #元素多样性，近list</span><br><span class="line">t</span><br><span class="line"># (1, &apos;23&apos;, [123, &apos;abc&apos;], (&apos;python&apos;, &apos;learn&apos;))</span><br><span class="line"># 元组中只有一个元素时，应该加上逗号,以免造成误解	</span><br><span class="line">t = (3)</span><br><span class="line">type(t)</span><br><span class="line"># &lt;class &apos;int&apos;&gt;</span><br><span class="line">t = (3,)</span><br><span class="line">type(t)</span><br><span class="line"># &lt;class &apos;tuple&apos;&gt;</span><br><span class="line"></span><br><span class="line"># &#123;&#125; dict 字典</span><br><span class="line"># 键/值对 原地修改 key不可重复 内容可变 键key必须是不可改变的数据类型，值value可以是任意类型</span><br><span class="line">d = &#123;&#125;</span><br><span class="line"># 利用元组建构字典</span><br><span class="line">name = ([&quot;first&quot;, &quot;Google&quot;], [&quot;second&quot;, &quot;Yahoo&quot;])</span><br><span class="line">website = dict(name)</span><br><span class="line">website</span><br><span class="line"># &#123;&apos;second&apos;: &apos;Yahoo&apos;, &apos;first&apos;: &apos;Google&apos;&#125;</span><br><span class="line"># 增加键值对</span><br><span class="line">d[&apos;name&apos;] = &apos;imlk&apos;</span><br><span class="line">d</span><br><span class="line"># &#123;&apos;name&apos;: &apos;imlk&apos;&#125;</span><br><span class="line"># 删除键值对</span><br><span class="line">del d[&apos;name&apos;]</span><br><span class="line"># 清空dict</span><br><span class="line">d.clear()</span><br><span class="line">d</span><br><span class="line"># &#123;&#125;</span><br><span class="line"># 检查字典中是否含有某个key</span><br><span class="line">&apos;name&apos; in d</span><br><span class="line"># False</span><br><span class="line">d[&apos;name&apos;] = &apos;imlk&apos;</span><br><span class="line"># 通过key获取字典中的value</span><br><span class="line">d[&apos;name&apos;]</span><br><span class="line">&apos;imlk&apos;</span><br><span class="line"># 或者</span><br><span class="line">d.get(&apos;name&apos;)	#若不存在则返回None</span><br><span class="line"># Help on method_descriptor:</span><br><span class="line"></span><br><span class="line"># get(...)</span><br><span class="line">#     D.get(k[,d]) -&gt; D[k] if k in D, else d.  d defaults to None.</span><br><span class="line"></span><br><span class="line"># Help on method_descriptor:</span><br><span class="line"></span><br><span class="line"># setdefault(...)</span><br><span class="line">#     D.setdefault(k[,d]) -&gt; D.get(k,d), also set D[k]=d if k not in D</span><br><span class="line"></span><br><span class="line"># Python只存储基本类型的数据，比如int、str，对于不是基础类型的，比如刚才字典的值是列表，Python不会在被复制的那个对象中重新存储，而是用引用的方式，指向原来的值。</span><br><span class="line"># 可变集合都是unhashable类型的。</span><br><span class="line"></span><br><span class="line"># 数据类型的拷贝</span><br><span class="line">l = [&apos;imlk&apos;,&apos;python&apos;]</span><br><span class="line">li = l.copy() #list,dict支持copy，tuple不支持</span><br><span class="line">(1,).copy()</span><br><span class="line"># Traceback (most recent call last):</span><br><span class="line">#   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line"># AttributeError: &apos;tuple&apos; object has no attribute &apos;copy&apos;</span><br><span class="line"></span><br><span class="line"># 深拷贝</span><br><span class="line">import copy</span><br><span class="line">li = copy.deepcopy(l)</span><br><span class="line"></span><br><span class="line"># set([]) 集合 元素必须是hashable的(不能含有list dict set等。。。) 元素类型可异 不可重复 无序，不可索引，内容可变(unhashable) 原地修改</span><br><span class="line"># &#123;&#125; #代表空字典，要建立空集合，不得不使用set()。</span><br><span class="line"></span><br><span class="line"># frozenset([]) 不可变集合 与 set([]) 区别是hashable，不可变</span><br><span class="line"></span><br><span class="line"># 集合运算</span><br><span class="line">a = set(&apos;python&apos;)</span><br><span class="line">b = set(&apos;python3&apos;)</span><br><span class="line">a</span><br><span class="line"># &#123;&apos;y&apos;, &apos;t&apos;, &apos;h&apos;, &apos;p&apos;, &apos;o&apos;, &apos;n&apos;&#125;</span><br><span class="line">b</span><br><span class="line"># &#123;&apos;y&apos;, &apos;t&apos;, &apos;3&apos;, &apos;h&apos;, &apos;p&apos;, &apos;o&apos;, &apos;n&apos;&#125;</span><br><span class="line"># 集合相等</span><br><span class="line">a == b</span><br><span class="line"># False</span><br><span class="line"># 子集</span><br><span class="line">a &lt; b</span><br><span class="line"># True</span><br><span class="line"># 超集</span><br><span class="line">a &gt; b</span><br><span class="line"># False</span><br><span class="line"># 并集</span><br><span class="line">a | b</span><br><span class="line"># &#123;&apos;y&apos;, &apos;t&apos;, &apos;3&apos;, &apos;h&apos;, &apos;p&apos;, &apos;o&apos;, &apos;n&apos;&#125;</span><br><span class="line"># 交集</span><br><span class="line">a &amp; b</span><br><span class="line"># &#123;&apos;y&apos;, &apos;t&apos;, &apos;h&apos;, &apos;p&apos;, &apos;o&apos;, &apos;n&apos;&#125;</span><br><span class="line"># A相对B的差（补）</span><br><span class="line">a - b</span><br><span class="line"># set()</span><br><span class="line">b - a</span><br><span class="line"># &#123;&apos;3&apos;&#125;</span><br><span class="line"></span><br><span class="line">print()</span><br><span class="line"># Help on built-in function print in module builtins:</span><br><span class="line"></span><br><span class="line"># print(...)</span><br><span class="line">#     print(value, ..., sep=&apos; &apos;, end=&apos;\n&apos;, file=sys.stdout, flush=False)</span><br><span class="line"></span><br><span class="line">#     Prints the values to a stream, or to sys.stdout by default.</span><br><span class="line">#     Optional keyword arguments:</span><br><span class="line">#     file:  a file-like object (stream); defaults to the current sys.stdout.</span><br><span class="line">#     sep:   string inserted between values, default a space.</span><br><span class="line">#     end:   string appended after the last value, default a newline.</span><br><span class="line">#     flush: whether to forcibly flush the stream.</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kb5201314.github.io/2018/01/19/C++构造函数中转而调用其它构造函数的三种方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="imlk">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IMLK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/19/C++构造函数中转而调用其它构造函数的三种方法/" itemprop="url">C++构造函数中转而调用其它构造函数的三种方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-01-19T21:41:51+08:00">2018-01-19</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/C-C/" itemprop="url" rel="index"><span itemprop="name">C/C++</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="C-构造函数中转而调用其它构造函数的三种方法"><a href="#C-构造函数中转而调用其它构造函数的三种方法" class="headerlink" title="C++构造函数中转而调用其它构造函数的三种方法"></a><strong>C++构造函数中转而调用其它构造函数的三种方法</strong></h2><p><strong>0x00 在初始化列表中调调用另一个构造函数</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">*	warning: delegating constructors only available with -std=c++11 or -std=gnu++11</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Teacher::Teacher(): Teacher(&quot;unknown&quot;,30) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p><strong>0x01 使用this指针显式调用构造函数</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">*	经过实践发现g++似乎不能这么用</span><br><span class="line">*	error: cannot call constructor ‘Teacher::Teacher’ directly</span><br><span class="line">*	参见：</span><br><span class="line">*	https://stackoverflow.com/questions/9253619/c-cannot-call-constructor-directly</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Teacher::Teacher() &#123;</span><br><span class="line">	this-&gt;Teacher::Teacher(&quot;unknown&quot;,30);//此方法必须加上作用域</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>0x02 原始内存覆盖</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">*	使用new (void*p) ClassType(param...)，这种语句的意思是不重新分配内存，而是直接覆盖在原内存上。</span><br><span class="line">*	参见：</span><br><span class="line">*	https://www.jianshu.com/p/4af119c44086</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Teacher::Teacher():m_iMaxStudentNum(30) &#123;</span><br><span class="line">	new (this) Teacher(&quot;unknown&quot;,30);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">imlk</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">33</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">categories</span>
                  
                </div>
              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate"> 
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">imlk</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Mist</a> v6.0.6</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.6"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.6"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
